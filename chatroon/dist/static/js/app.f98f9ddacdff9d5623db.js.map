{"version":3,"sources":["webpack:///static/js/app.f98f9ddacdff9d5623db.js","webpack:///./src/App.vue?27c8","webpack:///src/components/ChatRoom.vue","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/ChatRoom.vue?f55e","webpack:///./src/components/ChatRoom.vue?d576","webpack:///./src/router/index.js","webpack:///src/App.vue"],"names":["webpackJsonp","0tDL","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","esExports","Ds4J","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default","name","data","hoverMessageId","userNameSet","userName","messages","upload","progress","methods","setName","saveName","trim","vm","getTime","sendMessage","e","shiftKey","message","value","length","preventDefault","msgRef","push","type","timeStamp","deleteMessage","remove","readMore","target","previousElementSibling","setAttribute","mounted","on","messageData","updated","forEach","offsetHeight","querySelector","roomBody","scrollTop","scrollHeight","M93x","injectStyle","ssrContext","normalizeComponent","__vue_styles__","Component","NHnr","Vue","config","productionTip","el","router","template","components","App","RFZe","S3Yt","staticClass","_v","_s","$event","_m","_l","item","key","id","_e","directives","rawName","expression","class","disable","sendImage","indexOf","_k","keyCode","domProps","YaEn","use","Router","routes","path","component","ChatRoom","apZs","exports","oVVk","xJD8"],"mappings":"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","file":"static/js/app.f98f9ddacdff9d5623db.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"0tDL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"Ds4J\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"Dd8w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__ = __webpack_require__(\"fZjL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// msgRef = firebase中的資料表/messages/，若沒有的會自動建立\nvar msgRef = firebase.database().ref('/messages/');\n// const storageRef = firebase.storage().ref('/images/');\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  // 指定此頁使用的name\n  name: 'ChatRoom',\n  // 資料位置，於html中可用{{}}渲染出來\n  data: function data() {\n    return {\n      hoverMessageId: null,\n      userNameSet: false, // 姓名輸入框\n      userName: '', // 名稱\n      messages: [], // 訊息內容\n      upload: false, // 上傳進度框\n      progress: '' // 上傳進度%數\n    };\n  },\n\n  // 這個頁面的functions\n  methods: {\n    /** 彈出設定視窗 */\n    setName: function setName() {\n      var vm = this;\n      vm.userNameSet = true;\n    },\n\n    /** 儲存設定名稱 */\n    saveName: function saveName() {\n      // vue的mtthod中this是指export中這整塊的資料\n      var vm = this;\n      var userName = document.querySelector('#js-userName').value;\n      if (userName.trim() == '') {\n        return;\n      }\n      // 這裡的vm.userName(this.userName)就是data()裡面的userName\n      vm.userName = userName;\n      vm.userNameSet = false;\n    },\n\n    /** 取得時間 */\n    getTime: function getTime() {\n      var now = new Date();\n      var hours = now.getHours();\n      var minutes = now.getMinutes();\n      return (hours >= 12 ? \"下午\" : \"上午\") + ' ' + hours + ':' + (minutes < 10 ? '0' + minutes : minutes);\n    },\n\n    /** 傳送訊息 */\n    sendMessage: function sendMessage(e) {\n      var vm = this;\n      var userName = document.querySelector('#js-userName');\n      var message = document.querySelector('#js-message');\n      // 如果是按住shift則不傳送訊息(多行輸入)\n      if (e.shiftKey) {\n        return false;\n      }\n      // 如果輸入是空則不傳送訊息\n      if (message.value.length <= 1 && message.value.trim() == '') {\n        // 避免enter產生的空白換行\n        e.preventDefault();\n        return false;\n      }\n      // 對firebase的db做push，db只能接受json物件格式，若要用陣列要先轉字串來存\n      msgRef.push({\n        userName: userName.value,\n        type: 'text',\n        message: message.value,\n        // 取得時間，這裡的vm.getTime()就是method中的getTime\n        timeStamp: vm.getTime()\n      });\n      // 清空輸入欄位並避免enter產生的空白換行\n      message.value = '';\n      e.preventDefault();\n    },\n\n    /** 傳送圖片 */\n    // sendImage(e) {\n    //   const vm = this;\n    //   const userName = document.querySelector('#js-userName');\n    //   // 取得上傳檔案的資料\n    //   const file = e.target.files[0];\n    //   const fileName = Math.floor(Date.now() / 1000) + `_${file.name}`;\n    //   const metadata = {\n    //     contentType: 'image/*'\n    //   };\n    //   // 取得HTML進度條元素\n    //   let progressBar = document.querySelector('#js-progressBar');\n    //   // 上傳資訊設定\n    //   const uploadTask = storageRef.child(fileName).put(file, metadata);\n    //   // 上傳狀態處理\n    //   uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n    //     /* 上傳進度 */\n    //     function(snapshot) {\n    //       let progress = Math.floor((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n    //       if (progress < 100) {\n    //         // 開啟進度條\n    //         vm.upload = true;\n    //         vm.progress = `${progress}%`;\n    //         progressBar.setAttribute('style', `width:${progress}%`);\n    //       }\n    //     },\n    //     /* 錯誤處理 */\n    //     function(error) {\n    //       msgRef.child('bug/').push({\n    //         userName: userName.value,\n    //         type: 'image',\n    //         message: error.code,\n    //         timeStamp: vm.getTime()\n    //       })\n    //     },\n    //     /* 上傳結束處理 */\n    //     function() {\n    //       var downloadURL = uploadTask.snapshot.downloadURL;\n    //       msgRef.push({\n    //         userName: userName.value,\n    //         type: 'image',\n    //         message: downloadURL,\n    //         timeStamp: vm.getTime()\n    //       })\n    //       // 關閉進度條\n    //       vm.upload = false;\n    //     });\n    // },\n    /** 刪除訊息 */\n    deleteMessage: function deleteMessage(id) {\n      var message = msgRef.child(id);\n      message.remove();\n    },\n\n    /** 顯示更多 */\n    readMore: function readMore(e) {\n      // 把內容高度限制取消\n      e.target.previousElementSibling.setAttribute('style', 'max-height: 100%;');\n      // 隱藏\"顯示更多\"按紐\n      e.target.setAttribute('style', 'display: none;');\n    }\n  },\n  // mounted是vue的生命週期之一，代表模板已編譯完成，已經取值準備渲染元件了\n  mounted: function mounted() {\n    var vm = this;\n    msgRef.on('value', function (snapshot) {\n      var val = snapshot.val();\n      var messageData = val ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(val).map(function (key) {\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({ id: key }, val[key]);\n      }) : null;\n      vm.messages = messageData;\n    });\n  },\n\n  // update是vue的生命週期之一，在元件渲染完成後執行\n  updated: function updated() {\n    // 判斷內容高度超過300就隱藏起來，把\"顯示更多\"按紐打開\n    var messages = document.querySelectorAll('.messageBox__message');\n    messages.forEach(function (message) {\n      if (message.offsetHeight > 300) {\n        message.querySelector('.messageBox__readMore').setAttribute('style', 'display: block');\n      }\n    });\n    // 當畫面渲染完成，把聊天視窗滾到最底部(讀取最新消息)\n    var roomBody = document.querySelector('#js-roomBody');\n    roomBody.scrollTop = roomBody.scrollHeight;\n  }\n});\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2446c92a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"0tDL\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"oVVk\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2446c92a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(\"YaEn\");\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n\n/***/ \"RFZe\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ChatRoom_vue__ = __webpack_require__(\"Ds4J\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_29b8e3a2_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ChatRoom_vue__ = __webpack_require__(\"S3Yt\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"apZs\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-29b8e3a2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ChatRoom_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_29b8e3a2_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ChatRoom_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"S3Yt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"name\"},[_c('h3',[_vm._v(\"名稱：\"+_vm._s(_vm.userName))]),_vm._v(\" \"),_c('div',{staticClass:\"reset\",on:{\"click\":function($event){return _vm.setName()}}},[_vm._v(\"重新設定名稱\")])]),_vm._v(\" \"),_c('div',{staticClass:\"chatRoom\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"roomBody\",attrs:{\"id\":\"js-roomBody\"}},[_vm._l((_vm.messages),function(item){return [(item.userName != _vm.userName)?[_c('div',{key:item.id,staticClass:\"messageBox\"},[_c('img',{staticClass:\"messageBox__user\",attrs:{\"src\":\"https://firebasestorage.googleapis.com/v0/b/todo-list-eef4f.appspot.com/o/head.jpg?alt=media&token=527e486e-7625-43bd-be40-51eccbe049e6\",\"draggable\":\"false\"}}),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__content\"},[_c('div',{staticClass:\"messageBox__name\"},[_vm._v(_vm._s(item.userName))]),_vm._v(\" \"),(item.type == 'text')?_c('div',{staticClass:\"messageBox__message\"},[_c('div',{staticClass:\"messageBox__text\"},[_vm._v(_vm._s(item.message))]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__readMore\",on:{\"click\":function($event){return _vm.readMore($event)}}},[_vm._v(\"顯示更多\")])]):_vm._e(),_vm._v(\" \"),(item.type == 'image')?_c('div',{staticClass:\"messageBox__image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))])])]:_vm._e(),_vm._v(\" \"),(item.userName == _vm.userName)?[_c('div',{key:item.id,staticClass:\"messageBox messageBox--self\",on:{\"mouseenter\":function($event){_vm.hoverMessageId = item.id},\"mouseleave\":function($event){_vm.hoverMessageId = null}}},[_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__content\"},[(item.type == 'text')?_c('div',{staticClass:\"messageBox__message\"},[_c('div',{staticClass:\"messageBox__text\"},[_vm._v(_vm._s(item.message))])]):_vm._e(),_vm._v(\" \"),(item.type == 'image')?_c('div',{staticClass:\"messageBox__image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()]),_vm._v(\" \"),(_vm.hoverMessageId === item.id)?_c('div',{staticClass:\"messageBox__delete\"},[_c('span',{on:{\"click\":function($event){return _vm.deleteMessage(_vm.hoverMessageId)}}},[_vm._v(\"刪除\")])]):_vm._e()])]:_vm._e()]}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.upload),expression:\"upload\"}],staticClass:\"messageBox messageBox--self\"},[_c('div',{staticClass:\"messageBox__progress\"},[_c('div',{staticClass:\"messageBox__progress--state\",attrs:{\"id\":\"js-progressBar\"}}),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__progress--number\"},[_vm._v(_vm._s(_vm.progress))])])])],2),_vm._v(\" \"),_c('div',{staticClass:\"roomBottom\",class:{ disable: !_vm.userName }},[_c('div',{staticClass:\"roomBottom__tools\"},[_c('div',{staticClass:\"roomBottom__tools_upload\"},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.sendImage($event)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"roomBottom__input\"},[_c('textarea',{staticClass:\"roomBottom__input__textarea\",class:{ disable: !_vm.userName },attrs:{\"id\":\"js-message\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendMessage($event)}}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userNameSet || _vm.userName == ''),expression:\"userNameSet || userName == ''\"}],staticClass:\"modal\"},[_c('div',{staticClass:\"modal__container\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"modal__body\"},[_c('input',{staticClass:\"userName\",attrs:{\"type\":\"text\",\"id\":\"js-userName\",\"maxlength\":\"6\"},domProps:{\"value\":_vm.userName},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.saveName()}}}),_vm._v(\" \"),_c('div',{staticClass:\"button\",on:{\"click\":function($event){return _vm.saveName()}}},[_vm._v(\"設定\")])]),_vm._v(\" \"),_c('footer',{staticClass:\"modal__footer\"})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"roomHead\"},[_c('div',{staticClass:\"roomHead__title\"},[_vm._v(\"Vue+Firebase聊天室練習\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"modal__header\"},[_c('h2',{staticClass:\"view-title\"},[_vm._v(\"輸入名稱\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(\"/ocq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_ChatRoom__ = __webpack_require__(\"RFZe\");\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'ChatRoom',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_ChatRoom__[\"a\" /* default */]\n  }]\n}));\n\n/***/ }),\n\n/***/ \"apZs\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"oVVk\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app'\n});\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.f98f9ddacdff9d5623db.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2446c92a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 0tDL\n// module chunks = 1","<template>\n  <div class=\"container\">\n    <!-- 區塊：name area -->\n    <div class=\"name\">\n      <h3>名稱：{{ userName }}</h3>\n      <!-- 註解：使用@click來偵測click，觸發時執行method中的setName() -->\n      <div class=\"reset\" @click=\"setName()\">重新設定名稱</div>\n    </div>\n    <!-- 區塊：chat room -->\n    <div class=\"chatRoom\">\n      <!-- 區塊：head -->\n      <div class=\"roomHead\">\n        <div class=\"roomHead__title\">Vue+Firebase聊天室練習</div>\n      </div>\n      <!-- 區塊：body -->\n      <div id=\"js-roomBody\" class=\"roomBody\">\n        <!-- 註解：使用template來當迴圈容器，或是判斷用的容器，當條件達成時產出template內容 -->\n        <template v-for=\"item in messages\">\n          <!-- other people -->\n          <template v-if=\"item.userName != userName\">\n            <div class=\"messageBox\" :key=\"item.id\">\n              <img src=\"https://firebasestorage.googleapis.com/v0/b/todo-list-eef4f.appspot.com/o/head.jpg?alt=media&token=527e486e-7625-43bd-be40-51eccbe049e6\" class=\"messageBox__user\" draggable=\"false\">\n              <div class=\"messageBox__content\">\n                <!-- 註解：Vue使用雙花括號{{}}來顯示script中data:的資料 -->\n                <div class=\"messageBox__name\">{{item.userName}}</div>\n                <div v-if=\"item.type == 'text'\" class=\"messageBox__message\">\n                  <div class=\"messageBox__text\">{{item.message}}</div>\n                  <div class=\"messageBox__readMore\" @click=\"readMore($event)\">顯示更多</div>\n                </div>\n                <div v-if=\"item.type == 'image'\" class=\"messageBox__image\"><img :src=\"item.message\"></div>\n              </div>\n              <div class=\"messageBox__time\">{{item.timeStamp}}</div>\n            </div>\n          </template>\n          <!-- 區塊：self -->\n          <template v-if=\"item.userName == userName\">\n            <div\n              class=\"messageBox messageBox--self\"\n              @mouseenter=\"hoverMessageId = item.id\"\n              @mouseleave=\"hoverMessageId = null\"\n              :key=\"item.id\">\n              <div class=\"messageBox__time\">{{item.timeStamp}}</div>\n              <div class=\"messageBox__content\">\n                <div v-if=\"item.type == 'text'\" class=\"messageBox__message\">\n                  <div class=\"messageBox__text\">{{item.message}}</div>\n                </div>\n                <div v-if=\"item.type == 'image'\" class=\"messageBox__image\"><img :src=\"item.message\"></div>\n              </div>\n              <div v-if=\"hoverMessageId === item.id\" class=\"messageBox__delete\">\n                <span @click=\"deleteMessage(hoverMessageId)\">刪除</span>\n              </div>\n            </div>\n          </template>\n        </template>\n        <!-- 區塊：上傳進度條 -->\n        <div v-show=\"upload\" class=\"messageBox messageBox--self\">\n          <div class=\"messageBox__progress\">\n            <div id=\"js-progressBar\" class=\"messageBox__progress--state\"></div>\n            <div class=\"messageBox__progress--number\">{{progress}}</div>\n          </div>\n        </div>\n      </div>\n      <!-- 區塊：bottom -->\n      <!-- 註解：使用:class來寫class是否顯示的判斷式{ class: 判斷式 } -->\n      <div class=\"roomBottom\" :class=\"{ disable: !userName }\">\n        <div class=\"roomBottom__tools\">\n          <div class=\"roomBottom__tools_upload\">\n            <input type=\"file\" accept=\"image/*\" @change=\"sendImage($event)\">\n            <!-- <img src=\"../assets/tools_file.png\"> -->\n          </div>\n        </div>\n        <div class=\"roomBottom__input\">\n          <!-- 若要再帶入原生js的event(e)到function中，必須使用$event當參數傳入 -->\n          <textarea id=\"js-message\" class=\"roomBottom__input__textarea\" :class=\"{ disable: !userName }\" @keydown.enter=\"sendMessage($event)\"></textarea>\n        </div>\n      </div>\n    </div>\n    <!-- 區塊：modal -->\n    <div v-show=\"userNameSet || userName == ''\" class=\"modal\">\n      <div class=\"modal__container\">\n        <header class=\"modal__header\">\n          <h2 class=\"view-title\">輸入名稱</h2>\n        </header>\n        <div class=\"modal__body\">\n          <!-- 註解：使用@keydown.enter來偵測keydown enter，觸發時執行method中的saveName() -->\n          <input type=\"text\" id=\"js-userName\" class=\"userName\" maxlength=\"6\" @keydown.enter=\"saveName()\" :value=\"userName\">\n          <div class=\"button\" @click=\"saveName()\">設定</div>\n        </div>\n        <footer class=\"modal__footer\"></footer>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// msgRef = firebase中的資料表/messages/，若沒有的會自動建立\nconst msgRef = firebase.database().ref('/messages/');\n// const storageRef = firebase.storage().ref('/images/');\nexport default {\n  // 指定此頁使用的name\n  name: 'ChatRoom',\n  // 資料位置，於html中可用{{}}渲染出來\n  data() {\n    return {\n      hoverMessageId: null,\n      userNameSet: false, // 姓名輸入框\n      userName: '', // 名稱\n      messages: [], // 訊息內容\n      upload: false, // 上傳進度框\n      progress: '' // 上傳進度%數\n    }\n  },\n  // 這個頁面的functions\n  methods: {\n    /** 彈出設定視窗 */\n    setName() {\n      const vm = this;\n      vm.userNameSet = true;\n    },\n    /** 儲存設定名稱 */\n    saveName() {\n      // vue的mtthod中this是指export中這整塊的資料\n      const vm = this;\n      const userName = document.querySelector('#js-userName').value;\n      if (userName.trim() == '') { return; }\n      // 這裡的vm.userName(this.userName)就是data()裡面的userName\n      vm.userName = userName;\n      vm.userNameSet = false;\n    },\n    /** 取得時間 */\n    getTime() {\n      const now = new Date();\n      const hours = now.getHours();\n      const minutes = now.getMinutes();\n      return `${(hours >= 12) ? \"下午\" : \"上午\"} ${hours}:${(minutes < 10) ? '0' + minutes : minutes}`;\n    },\n    /** 傳送訊息 */\n    sendMessage(e) {\n      const vm = this;\n      const userName = document.querySelector('#js-userName');\n      let message = document.querySelector('#js-message');\n      // 如果是按住shift則不傳送訊息(多行輸入)\n      if (e.shiftKey) {\n        return false;\n      }\n      // 如果輸入是空則不傳送訊息\n      if (message.value.length <= 1 && message.value.trim() == '') {\n        // 避免enter產生的空白換行\n        e.preventDefault();\n        return false;\n      }\n      // 對firebase的db做push，db只能接受json物件格式，若要用陣列要先轉字串來存\n      msgRef.push({\n        userName: userName.value,\n        type: 'text',\n        message: message.value,\n        // 取得時間，這裡的vm.getTime()就是method中的getTime\n        timeStamp: vm.getTime()\n      })\n      // 清空輸入欄位並避免enter產生的空白換行\n      message.value = '';\n      e.preventDefault();\n    },\n    /** 傳送圖片 */\n    // sendImage(e) {\n    //   const vm = this;\n    //   const userName = document.querySelector('#js-userName');\n    //   // 取得上傳檔案的資料\n    //   const file = e.target.files[0];\n    //   const fileName = Math.floor(Date.now() / 1000) + `_${file.name}`;\n    //   const metadata = {\n    //     contentType: 'image/*'\n    //   };\n    //   // 取得HTML進度條元素\n    //   let progressBar = document.querySelector('#js-progressBar');\n    //   // 上傳資訊設定\n    //   const uploadTask = storageRef.child(fileName).put(file, metadata);\n    //   // 上傳狀態處理\n    //   uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n    //     /* 上傳進度 */\n    //     function(snapshot) {\n    //       let progress = Math.floor((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n    //       if (progress < 100) {\n    //         // 開啟進度條\n    //         vm.upload = true;\n    //         vm.progress = `${progress}%`;\n    //         progressBar.setAttribute('style', `width:${progress}%`);\n    //       }\n    //     },\n    //     /* 錯誤處理 */\n    //     function(error) {\n    //       msgRef.child('bug/').push({\n    //         userName: userName.value,\n    //         type: 'image',\n    //         message: error.code,\n    //         timeStamp: vm.getTime()\n    //       })\n    //     },\n    //     /* 上傳結束處理 */\n    //     function() {\n    //       var downloadURL = uploadTask.snapshot.downloadURL;\n    //       msgRef.push({\n    //         userName: userName.value,\n    //         type: 'image',\n    //         message: downloadURL,\n    //         timeStamp: vm.getTime()\n    //       })\n    //       // 關閉進度條\n    //       vm.upload = false;\n    //     });\n    // },\n    /** 刪除訊息 */\n    deleteMessage(id) {\n      const message = msgRef.child(id)\n      message.remove()\n    },\n    /** 顯示更多 */\n    readMore(e) {\n      // 把內容高度限制取消\n      e.target.previousElementSibling.setAttribute('style', 'max-height: 100%;')\n      // 隱藏\"顯示更多\"按紐\n      e.target.setAttribute('style', 'display: none;');\n    }\n  },\n  // mounted是vue的生命週期之一，代表模板已編譯完成，已經取值準備渲染元件了\n  mounted() {\n    const vm = this;\n    msgRef.on('value', function(snapshot) {\n      const val = snapshot.val();\n      const messageData = val\n        ? Object.keys(val).map(key => ({ id: key, ...val[key] }))\n        : null\n      vm.messages = messageData;\n    })\n  },\n  // update是vue的生命週期之一，在元件渲染完成後執行\n  updated() {\n    // 判斷內容高度超過300就隱藏起來，把\"顯示更多\"按紐打開\n    const messages = document.querySelectorAll('.messageBox__message');\n    messages.forEach((message) => {\n      if (message.offsetHeight > 300) {\n        message.querySelector('.messageBox__readMore').setAttribute('style', 'display: block');\n      }\n    })\n    // 當畫面渲染完成，把聊天視窗滾到最底部(讀取最新消息)\n    const roomBody = document.querySelector('#js-roomBody');\n    roomBody.scrollTop = roomBody.scrollHeight;\n  }\n}\n</script>\n\n<style scoped>\n* {\n  font-family: '微軟正黑體';\n  margin: auto;\n}\n.container {\n  padding: 10px 30px 0px 0px;\n}\n.name {\n  text-align: center;\n  margin: 10px 50px 10px 0px;\n  color: #333333;\n}\n.reset {\n  margin-top: 10px;\n  padding: 5px 10px;\n  border-radius: 10px;\n  font-weight: 600;\n  color: #333333;\n  background-color: #CCCCCC;\n  display: inline-block;\n  cursor: pointer;\n}\n.chatRoom {\n  border-radius: 5px;\n  max-width: 500px;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n}\n\n/* Head */\n.roomHead {\n  width: 100%;\n  height: 60px;\n  border-radius: 5px 5px 0px 0px;\n  background-color: #2B364B;\n  position: relative;\n}\n.roomHead__topButtons {\n  padding: 2px 0px 5px 10px;\n  text-align: left;\n}\n.roomHead__button {\n  height: 10px;\n  width: 10px;\n  border-radius: 50%;\n  margin: 0px 1px;\n  display: inline-block;\n  cursor: pointer;\n}\n.close {\n  background-color: #FF625A;\n}\n.minimize {\n  background-color: #FFC02F;\n}\n.zoom {\n  background-color: #28CB40;\n}\n.roomHead__img {\n  width: 50px;\n  height: 50px;\n  margin: 0px 10px 6px 12px;\n  border-radius: 50%;\n  position: absolute;\n  cursor: pointer;\n}\n.roomHead__title {\n    font-size: 18px;\n    font-weight: 600;\n    display: block;\n    line-height: 60px;\n    color: #FFFFFF;\n    margin: 0 15px;\n    cursor: pointer;\n}\n\n/* Body */\n.roomBody {\n  padding: 10px 0px;\n  background-color: #fff;\n  height: 60vh;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.messageBox {\n  padding: 5px 10px;\n  position: relative;\n}\n.messageBox__user {\n  height: 40px;\n  width: 40px;\n  border-radius: 50%;\n  vertical-align: top;\n  display: inline-block;\n  cursor: pointer;\n}\n.messageBox__content {\n  max-width: 70%;\n  display: inline-block;\n}\n.messageBox__name {\n  margin: 5px 0px 5px 5px;\n  font-size: 13px;\n  color: #727C8A;\n  vertical-align: top;\n  cursor: pointer;\n}\n.messageBox__message {\n  margin: 5px 0px 5px 5px;\n  font-size: 12px;\n  color: #35393D;\n  letter-spacing: 0.6px;\n  background-color: #E3E8EB;\n  border-radius: 12px;\n  line-height: 1.5;\n  text-align: left;\n  word-break: break-all;\n  /*：與html的<pre></pre>同效果，可以使textarea的換行元素正常顯示 */\n  white-space: pre-line;\n}\n.messageBox__text {\n  padding: 8px 10px 9px 11px;\n  max-height: 300px;\n  overflow: hidden;\n}\n.messageBox__readMore {\n  border-top: 1px solid #D9DBDD;\n  margin-top: 6px;\n  padding: 6px 13px 10px 13px;\n  left: 0;\n  right: 0;\n  cursor: pointer;\n  display: none;\n}\n.messageBox__image {\n  margin: 5px 25px 5px 5px;\n}\n.messageBox__image img {\n  border-radius: 5px;\n  max-width: 100%;\n  max-height: 335px;\n}\n.messageBox__time {\n  transform: scale(0.7);\n  color: #ACB0B8;\n  vertical-align: bottom;\n  margin: 0px 0px 5px -12px;\n  display: inline-block;\n}\n.messageBox__delete {\n  font-size: 12px;\n  color: #ACB0B8;\n  margin-right: 25px;\n  cursor: pointer;\n}\n.messageBox__progress {\n  width: 25%;\n  margin-right: 60px;\n  border-radius: 5px;\n  background-color: #D4D9E1;\n  height: 6px;\n}\n.messageBox__progress--state {\n  background-color: #00CE00;\n  height: 6px;\n  width: 10%;\n  border-radius: 5px;\n  float: right;\n}\n.messageBox__progress--number {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 12px;\n  color: #B7B7B7;\n  margin-right: 35px;\n}\n.messageBox--self {\n  text-align: right;\n}\n.messageBox--self .messageBox__message {\n  background-color: #AFF47E;\n  margin-right: 25px;\n}\n.messageBox--self .messageBox__message__text {\n  padding: 8px 10px 9px 11px;\n  max-height: 100%;\n  overflow: unset;\n}\n.messageBox--self .messageBox__time {\n  margin: 0px -16px 5px 0px;\n}\n\n/* Bottom */\n.roomBottom {\n  bottom: 0px;\n  border-radius: 0px 0px 5px 5px;\n  background-color: #FFFFFF;\n}\n.roomBottom__tools {\n  border-top: solid 1px #E7E7E7;\n  border-bottom: solid 2px #E7E7E7;\n  background-color: #F6F6F6;\n  height: 30px;\n  padding: 0px 5px;\n}\n.roomBottom__tools_upload {\n  height: 20px;\n  margin: 5px;\n  padding: 1px;\n  display: inline-block;\n  position: relative;\n  overflow: hidden;\n}\n.roomBottom__tools_upload:hover {\n  border: solid 1px #DCDCDC;\n}\n.roomBottom__tools_upload input {\n  width: 100%;\n  height: 100%;\n  left: 0;\n  right: 0;\n  opacity: 0;\n  position: absolute;\n  cursor: pointer;\n  /* 讓input file可以支援pointer要加pl100% */\n  padding-left: 100%;\n}\n.roomBottom__tools_upload img {\n  height: 100%;\n}\n.roomBottom__input {\n  padding: 10px 10px 5px 10px;\n}\n.roomBottom__input__textarea {\n  width: 100%;\n  height: 60px;\n  border: none;\n  resize: none;\n  outline: none;\n}\n\n/* status */\n.disable {\n  pointer-events: none;\n  background-color: #ebebeb;\n}\n\n/* modal */\n.modal {\n  z-index: 3;\n  padding: 50px 0px;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: rgba(0, 0, 0, 0.4);\n  animation: opac 0.8s;\n  letter-spacing: 2px;\n  text-align: unset;\n}\n.modal__container {\n  margin: auto;\n  position: relative;\n  padding: 10px;\n  outline: 0;\n  max-width: 300px;\n}\n.modal__header {\n  color: #fff;\n  background-color: #2B364B;\n  padding: 10px;\n  text-align: center;\n  border-radius: 5px 5px 0px 0px;\n}\n.modal__body {\n  background-color: #fff;\n  padding: 20px 50px;\n  text-align: center;\n}\n.modal__body p {\n  text-align: left;\n  line-height: 24px;\n}\n.modal__img {\n  max-width: 100%;\n}\n.modal__footer {\n  color: #fff;\n  background-color: #2B364B;\n  height: 8px;\n  border-radius: 0px 0px 5px 5px;\n}\n\n/* name set */\n.userName {\n  height: 30px;\n  font-size: 16px;\n  margin-bottom: 10px;\n  border: solid 1px #cbcbcb;\n  width: 70%;\n  text-align: center;\n  display: inline-block;\n}\n.button {\n  font-size: 14px;\n  color: #FFFFFF;\n  background-color: #2B364B;\n  padding: 10px 20px;\n  display: inline-block;\n  cursor: pointer;\n}\n\n/* media */\n\n@media screen and (max-width: 425px) {\n  .messageBox__content {\n    max-width: 60%;\n  }\n}\n\n@media screen and (max-width: 385px) {\n  .messageBox__content {\n    max-width: 50%;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ChatRoom.vue","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2446c92a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2446c92a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-29b8e3a2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChatRoom.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatRoom.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatRoom.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-29b8e3a2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChatRoom.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-29b8e3a2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChatRoom.vue\n// module id = RFZe\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"name\"},[_c('h3',[_vm._v(\"名稱：\"+_vm._s(_vm.userName))]),_vm._v(\" \"),_c('div',{staticClass:\"reset\",on:{\"click\":function($event){return _vm.setName()}}},[_vm._v(\"重新設定名稱\")])]),_vm._v(\" \"),_c('div',{staticClass:\"chatRoom\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"roomBody\",attrs:{\"id\":\"js-roomBody\"}},[_vm._l((_vm.messages),function(item){return [(item.userName != _vm.userName)?[_c('div',{key:item.id,staticClass:\"messageBox\"},[_c('img',{staticClass:\"messageBox__user\",attrs:{\"src\":\"https://firebasestorage.googleapis.com/v0/b/todo-list-eef4f.appspot.com/o/head.jpg?alt=media&token=527e486e-7625-43bd-be40-51eccbe049e6\",\"draggable\":\"false\"}}),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__content\"},[_c('div',{staticClass:\"messageBox__name\"},[_vm._v(_vm._s(item.userName))]),_vm._v(\" \"),(item.type == 'text')?_c('div',{staticClass:\"messageBox__message\"},[_c('div',{staticClass:\"messageBox__text\"},[_vm._v(_vm._s(item.message))]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__readMore\",on:{\"click\":function($event){return _vm.readMore($event)}}},[_vm._v(\"顯示更多\")])]):_vm._e(),_vm._v(\" \"),(item.type == 'image')?_c('div',{staticClass:\"messageBox__image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))])])]:_vm._e(),_vm._v(\" \"),(item.userName == _vm.userName)?[_c('div',{key:item.id,staticClass:\"messageBox messageBox--self\",on:{\"mouseenter\":function($event){_vm.hoverMessageId = item.id},\"mouseleave\":function($event){_vm.hoverMessageId = null}}},[_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__content\"},[(item.type == 'text')?_c('div',{staticClass:\"messageBox__message\"},[_c('div',{staticClass:\"messageBox__text\"},[_vm._v(_vm._s(item.message))])]):_vm._e(),_vm._v(\" \"),(item.type == 'image')?_c('div',{staticClass:\"messageBox__image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()]),_vm._v(\" \"),(_vm.hoverMessageId === item.id)?_c('div',{staticClass:\"messageBox__delete\"},[_c('span',{on:{\"click\":function($event){return _vm.deleteMessage(_vm.hoverMessageId)}}},[_vm._v(\"刪除\")])]):_vm._e()])]:_vm._e()]}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.upload),expression:\"upload\"}],staticClass:\"messageBox messageBox--self\"},[_c('div',{staticClass:\"messageBox__progress\"},[_c('div',{staticClass:\"messageBox__progress--state\",attrs:{\"id\":\"js-progressBar\"}}),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__progress--number\"},[_vm._v(_vm._s(_vm.progress))])])])],2),_vm._v(\" \"),_c('div',{staticClass:\"roomBottom\",class:{ disable: !_vm.userName }},[_c('div',{staticClass:\"roomBottom__tools\"},[_c('div',{staticClass:\"roomBottom__tools_upload\"},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.sendImage($event)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"roomBottom__input\"},[_c('textarea',{staticClass:\"roomBottom__input__textarea\",class:{ disable: !_vm.userName },attrs:{\"id\":\"js-message\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendMessage($event)}}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userNameSet || _vm.userName == ''),expression:\"userNameSet || userName == ''\"}],staticClass:\"modal\"},[_c('div',{staticClass:\"modal__container\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"modal__body\"},[_c('input',{staticClass:\"userName\",attrs:{\"type\":\"text\",\"id\":\"js-userName\",\"maxlength\":\"6\"},domProps:{\"value\":_vm.userName},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.saveName()}}}),_vm._v(\" \"),_c('div',{staticClass:\"button\",on:{\"click\":function($event){return _vm.saveName()}}},[_vm._v(\"設定\")])]),_vm._v(\" \"),_c('footer',{staticClass:\"modal__footer\"})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"roomHead\"},[_c('div',{staticClass:\"roomHead__title\"},[_vm._v(\"Vue+Firebase聊天室練習\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"modal__header\"},[_c('h2',{staticClass:\"view-title\"},[_vm._v(\"輸入名稱\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-29b8e3a2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ChatRoom.vue\n// module id = S3Yt\n// module chunks = 1","import Vue from 'vue'\nimport Router from 'vue-router'\nimport ChatRoom from '@/components/ChatRoom'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'ChatRoom',\n      component: ChatRoom\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue"],"sourceRoot":""}